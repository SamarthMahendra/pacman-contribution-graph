var t={d:(n,e)=>{for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)},n={};t.d(n,{U:()=>P});const e=52,a="yellow",o="#80808064",i=["blinky","clyde","inky","pinky"],c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s={github:{textColor:"#586069",gridBackground:"#ffffff",contributionBoxColor:"#9be9a8",emptyContributionBoxColor:"#ebedf0"},"github-dark":{textColor:"#8b949e",gridBackground:"#0d1117",contributionBoxColor:"#26a641",emptyContributionBoxColor:"#161b22"},gitlab:{textColor:"#626167",gridBackground:"#ffffff",contributionBoxColor:"#7992f5",emptyContributionBoxColor:"#ececef"},"gitlab-dark":{textColor:"#999999",gridBackground:"#1f1f1f",contributionBoxColor:"#2e7db1",emptyContributionBoxColor:"#2d2d2d"}},r={blinky:{imgDate:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAfUlEQVQ4T+2TUQ7AIAhDy/0PzQIRAqxmLtnn/DJPWypBAVkKKOMCyOQN7IRElLrcnIrDLNK4wVtxNbkb6Hq+jOcSbim6QVzKEstkw92gxVeFrMpqokix4wA+NvCOnvfArvcEbHoe2G9QmmhDMUc65p3xYC6q3zQPxtdl3NgF5QpL/b/rs3IAAAAASUVORK5CYIIA",img:new Image},clyde:{imgDate:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAgUlEQVQ4T+2T0Q6AIAhFLx9sH1MfTIPCAeLKrcd8PHqP4JBQLN7BFacNlHkAs+AQcqIueBs2mVWjgtWwl4yCdrd/pHYLLlVEgR2yK0wy4SoI5TcGXU4wM+AEJQfwsUCuXngDOR4rqKbngf0C94gyFHmkbd4rbkxD/pv2jfR1Ky7sBNrzXbHpnBX+AAAAAElFTkSuQmCC",img:new Image},inky:{imgDate:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAg0lEQVQ4T+WTWxKAIAhFuQvK/a+jFoT5QAVxypn+6vMEx6sDIO/jk12OAMs1WDVOXV3UBW+bRVbTFMFu8yCZBExH/g26VHCXI0AJpKgdUCUrTlkwxE+FECdzS7HiJemXgvyeO29gE7jD8wDVFX4vSLNtR1q2z+OVlaZxTaXYrq7HbxYBS8VgMVrqzkEAAAAASUVORK5CYIIA",img:new Image},pinky:{imgDate:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAhklEQVQ4T+2T0Q2AIAwF281wC50Qt9DNagoptqVESfyUz4N3vJCCECxaD4o47gt6bsAo2IWUqAnehkUmbYpgNqwlvSCnur+dtnnAuYUVyCGJimTAi8DUzwmwOoGI7hYjDgAfC/jqiTfg47ZBND0P7BeoR+Sh8CMt8x5xYSWkv2nbcF834swuA/9u49Yy5bgAAAAASUVORK5CYIIA",img:new Image},scared:{imgDate:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAeUlEQVQ4T82TUQ6AMAhD7UX0/sdyF0GREVmDmTN+bH9r6Bs0A0t2VpFULwDrrfBkZFcA3YC3ZodViAFGzQHyP0B2w2NrB0/1AoDbHwLoQ5/nrw1OBuD5e/crbM9Aiz35njHWzpSB/m3+0r40mV41M8U19WJe3Uw/tQOKt08pUUbBEQAAAABJRU5ErkJgggAA",img:new Image}};var g,u=function(t,n,e,a){return new(e||(e=Promise))((function(o,i){function c(t){try{r(a.next(t))}catch(t){i(t)}}function s(t){try{r(a.throw(t))}catch(t){i(t)}}function r(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,s)}r((a=a.apply(t,n||[])).next())}))};!function(t){t.DEFAULT="https://cdn.jsdelivr.net/gh/abozanona/pacman-contribution-graph@1.0.2/src/assets/sounds/pacman_chomp.wav",t.BEGINNING="https://cdn.jsdelivr.net/gh/abozanona/pacman-contribution-graph@1.0.2/src/assets/sounds/pacman_beginning.wav",t.GAME_OVER="https://cdn.jsdelivr.net/gh/abozanona/pacman-contribution-graph@1.0.2/src/assets/sounds/pacman_death.wav",t.EAT_GHOST="https://cdn.jsdelivr.net/gh/abozanona/pacman-contribution-graph@1.0.2/src/assets/sounds/pacman_eatghost.wav"}(g||(g={}));class d{constructor(){this.sounds=new Map,this.currentSource=null,this.defaultSource=null,this.isMuted=!1,this.audioContext=new AudioContext}static getInstance(){return d.instance||(d.instance=new d),d.instance}preloadSounds(){return u(this,void 0,void 0,(function*(){for(const t of Object.values(g)){const n=yield fetch(t),e=yield n.arrayBuffer(),a=yield this.audioContext.decodeAudioData(e);this.sounds.set(t,a)}}))}play(t){return u(this,void 0,void 0,(function*(){if(this.isMuted)return;if(this.currentSource)try{this.currentSource.stop()}catch(t){}const n=this.sounds.get(t);if(n)return this.currentSource=this.audioContext.createBufferSource(),this.currentSource.buffer=n,this.currentSource.connect(this.audioContext.destination),this.isMuted||this.currentSource.start(),new Promise((t=>{this.currentSource.onended=()=>{this.currentSource=null,t()}}));console.error(`Sound ${t} not found`)}))}startDefaultSound(){if(this.defaultSource)try{this.defaultSource.stop()}catch(t){}const t=this.sounds.get(g.DEFAULT);t?(this.defaultSource=this.audioContext.createBufferSource(),this.defaultSource.buffer=t,this.defaultSource.loop=!0,this.defaultSource.connect(this.audioContext.destination),this.isMuted||this.defaultSource.start()):console.error("Default sound not found")}stopDefaultSound(){if(this.defaultSource){try{this.defaultSource.stop()}catch(t){}this.defaultSource=null}}mute(){this.isMuted=!0,this.currentSource&&this.currentSource.disconnect(),this.defaultSource&&this.defaultSource.disconnect()}unmute(){this.isMuted=!1,this.currentSource&&this.currentSource.connect(this.audioContext.destination),this.defaultSource&&this.defaultSource.connect(this.audioContext.destination)}}const m={frameCount:0,contributions:[],pacman:{x:0,y:0,direction:"right",points:0,totalPoints:0,deadRemainingDuration:0,powerupRemainingDuration:0},ghosts:[],grid:[],monthLabels:[],pacmanMouthOpen:!0,gameInterval:0,scaredGhostsDestinations:[],gameHistory:[],config:void 0};var l=function(t,n,e,a){return new(e||(e=Promise))((function(o,i){function c(t){try{r(a.next(t))}catch(t){i(t)}}function s(t){try{r(a.throw(t))}catch(t){i(t)}}function r(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,s)}r((a=a.apply(t,n||[])).next())}))};const h=t=>l(void 0,void 0,void 0,(function*(){const n=yield fetch(`https://v0-new-project-q1hhrdodoye-abozanona-gmailcoms-projects.vercel.app/api/contributions?username=${t}`),e=yield n.json();return Object.entries(e).map((([t,n])=>({date:new Date(t),count:Number(n)})))})),f=t=>l(void 0,void 0,void 0,(function*(){const n=yield fetch(`https://api.github.com/search/commits?q=author:${t}&sort=author-date&order=desc&page=1&per_page=1000`),e=yield n.json();return Array.from(e.items.reduce(((t,n)=>{const e=n.commit.committer.date.split("T")[0],a=new Date(e),o=(t.get(e)||{count:0}).count+1;return t.set(e,{date:a,count:o})}),new Map).values())})),p=()=>{var t;return null!==(t=s[m.config.gameTheme])&&void 0!==t?t:s.github},y=function(t,n){return`rgba(${parseInt(t.slice(1,3),16)}, ${parseInt(t.slice(3,5),16)}, ${parseInt(t.slice(5,7),16)}, ${n})`},A=()=>{m.config.canvas.getContext("2d").fillStyle=p().gridBackground,m.config.canvas.getContext("2d").fillRect(0,0,m.config.canvas.width,m.config.canvas.height);for(let t=0;t<7;t++)for(let n=0;n<e;n++){const e=m.grid[t][n].intensity;if(e>0){const t=e<.2?.3:e,n=y(p().contributionBoxColor,t);m.config.canvas.getContext("2d").fillStyle=n}else m.config.canvas.getContext("2d").fillStyle=p().emptyContributionBoxColor;m.config.canvas.getContext("2d").beginPath(),m.config.canvas.getContext("2d").roundRect(22*n,22*t+15,20,20,5),m.config.canvas.getContext("2d").fill()}m.config.canvas.getContext("2d").fillStyle=p().textColor,m.config.canvas.getContext("2d").font="10px Arial",m.config.canvas.getContext("2d").textAlign="center";let t="";for(let n=0;n<e;n++)if(m.monthLabels[n]!==t){const e=22*n+10;m.config.canvas.getContext("2d").fillText(m.monthLabels[n],e,10),t=m.monthLabels[n]}},v=()=>{const t=22*m.pacman.y+10,n=22*m.pacman.x+10+15;m.pacman.deadRemainingDuration?m.config.canvas.getContext("2d").fillStyle=o:m.pacman.powerupRemainingDuration?m.config.canvas.getContext("2d").fillStyle="red":m.config.canvas.getContext("2d").fillStyle=a;const e=m.pacmanMouthOpen?.35*Math.PI:.1*Math.PI;let i,c;switch(m.pacman.direction){case"up":i=1.5*Math.PI+e,c=1.5*Math.PI-e;break;case"down":i=.5*Math.PI+e,c=.5*Math.PI-e;break;case"left":i=Math.PI+e,c=Math.PI-e;break;default:i=0+e,c=2*Math.PI-e}m.config.canvas.getContext("2d").beginPath(),m.config.canvas.getContext("2d").arc(t,n,10,i,c),m.config.canvas.getContext("2d").lineTo(t,n),m.config.canvas.getContext("2d").fill()},x=()=>{m.ghosts.forEach((t=>{const n=22*t.y,e=22*t.x+15,a=m.config.canvas.getContext("2d");t.scared?a.drawImage(r.scared.img,n,e,20,20):a.drawImage(r[t.name].img,n,e,20,20)}))},b=()=>{m.config.enableSounds&&m.config.canvas.addEventListener("click",(function(t){const n=m.config.canvas.getBoundingClientRect(),e=t.clientX-n.left,a=t.clientY-n.top,o=m.config.canvas.width-30-10;e>=o&&e<=o+this.width&&a>=10&&a<=10+this.height&&(d.getInstance().isMuted?d.getInstance().unmute():d.getInstance().mute())}))},C=t=>{const n=10,e=t,a=2*Math.PI-t;return`M 10,10\n            L ${n+n*Math.cos(e)},${n+n*Math.sin(e)}\n            A 10,10 0 1,1 ${n+n*Math.cos(a)},${n+n*Math.sin(a)}\n            Z`},w=()=>m.gameHistory.map(((t,n)=>n/(m.gameHistory.length-1))).join(";"),M=(t,n)=>m.gameHistory.map((e=>{const a=e.grid[t][n];return a>0?D(a):p().emptyContributionBoxColor})).join(";"),D=t=>{const n=t<.2?.3:t;return y(p().contributionBoxColor,n)},S=()=>{let t='<svg width="1144" height="174" xmlns="http://www.w3.org/2000/svg">';t+=`<rect width="100%" height="100%" fill="${p().gridBackground}"/>`,t+=`<defs>\n\t\t<symbol id="blinky" viewBox="0 0 100 100">\n            <image href="${r.blinky.imgDate}" width="100" height="100"/>\n\t\t</symbol>\n\t\t<symbol id="clyde" viewBox="0 0 100 100">\n            <image href="${r.clyde.imgDate}" width="100" height="100"/>\n\t\t</symbol>\n\t\t<symbol id="inky" viewBox="0 0 100 100">\n            <image href="${r.inky.imgDate}" width="100" height="100"/>\n\t\t</symbol>\n\t\t<symbol id="pinky" viewBox="0 0 100 100">\n            <image href="${r.pinky.imgDate}" width="100" height="100"/>\n\t\t</symbol>\n\t\t<symbol id="scared" viewBox="0 0 100 100">\n            <image href="${r.scared.imgDate}" width="100" height="100"/>\n\t\t</symbol>\n\t</defs>`;let n="";for(let a=0;a<e;a++)m.monthLabels[a]!==n&&(t+=`<text x="${22*a+10}" y="10" text-anchor="middle" font-size="10" fill="${p().textColor}">${m.monthLabels[a]}</text>`,n=m.monthLabels[a]);for(let n=0;n<7;n++)for(let a=0;a<e;a++){const e=22*a,o=22*n+15,i=m.gameHistory[0].grid[n][a],c=i>0?D(i):p().emptyContributionBoxColor;t+=`<rect id="cell-${n}-${a}" x="${e}" y="${o}" width="20" height="20" rx="5" fill="${c}">\n                <animate attributeName="fill" dur="${300*m.gameHistory.length}ms" repeatCount="indefinite" \n                    values="${M(n,a)}" \n                    keyTimes="${w()}"/>\n            </rect>`}return t+=`<path id="pacman" d="${C(.35)}"\n        transform="translate(${22*m.pacman.y}, ${22*m.pacman.x+15})">\n\t\t<animate attributeName="fill" dur="${300*m.gameHistory.length}ms" repeatCount="indefinite"\n                keyTimes="${w()}"\n                values="${m.gameHistory.map((t=>t.pacman.deadRemainingDuration?o:t.pacman.powerupRemainingDuration?"red":a)).join(";")}"/>\n        <animateTransform attributeName="transform" type="translate" dur="${300*m.gameHistory.length}ms" repeatCount="indefinite"\n            keyTimes="${w()}"\n            values="${m.gameHistory.map((t=>`${22*t.pacman.y},${22*t.pacman.x+15}`)).join(";")}"/>\n        <animate attributeName="d" dur="0.2s" repeatCount="indefinite"\n            values="${C(.25)};${C(.05)};${C(.25)}"/>\n    </path>`,m.ghosts.forEach(((n,e)=>{var a;t+=`<use id="ghost${e}" width="20" height="20" href="#ghost-${n.name}">\n            <animateTransform attributeName="transform" type="translate" dur="${300*m.gameHistory.length}ms" repeatCount="indefinite"\n                keyTimes="${w()}"\n                values="${a=e,m.gameHistory.map((t=>{const n=t.ghosts[a];return`${22*n.y},${22*n.x+15}`})).join(";")}"/>\n            <animate attributeName="href" dur="${300*m.gameHistory.length}ms" repeatCount="indefinite"\n                keyTimes="${w()}"\n                values="${(t=>m.gameHistory.map((n=>{const e=n.ghosts[t];return e.scared?"#scared":"#"+e.name})).join(";"))(e)}"/>\n        </use>`})),t+="</svg>",t};var I=function(t,n,e,a){return new(e||(e=Promise))((function(o,i){function c(t){try{r(a.next(t))}catch(t){i(t)}}function s(t){try{r(a.throw(t))}catch(t){i(t)}}function r(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,s)}r((a=a.apply(t,n||[])).next())}))};const k=()=>I(void 0,void 0,void 0,(function*(){if(m.frameCount++,m.frameCount%m.config.gameSpeed==0)if(m.pacman.deadRemainingDuration&&(m.pacman.deadRemainingDuration--,m.pacman.deadRemainingDuration||"canvas"==m.config.outputFormat&&d.getInstance().play(g.GAME_OVER).then((()=>d.getInstance().startDefaultSound()))),m.pacman.powerupRemainingDuration&&(m.pacman.powerupRemainingDuration--,m.pacman.powerupRemainingDuration||(m.ghosts.forEach((t=>t.scared=!1)),m.pacman.points=0)),m.grid.some((t=>t.some((t=>t.intensity>0)))))B(),$(),O(),m.pacmanMouthOpen=!m.pacmanMouthOpen,m.gameHistory.push({pacman:Object.assign({},m.pacman),ghosts:m.ghosts.map((t=>Object.assign({},t))),grid:m.grid.map((t=>[...t.map((t=>t.intensity))]))}),"canvas"==m.config.outputFormat&&A(),"canvas"==m.config.outputFormat&&v(),"canvas"==m.config.outputFormat&&x(),"canvas"==m.config.outputFormat&&(()=>{if(!m.config.enableSounds)return;const t=m.config.canvas.width-30-10;m.config.canvas.getContext("2d").fillStyle=`rgba(0, 0, 0, ${d.getInstance().isMuted?.3:.5})`,m.config.canvas.getContext("2d").beginPath(),m.config.canvas.getContext("2d").moveTo(t+10,20),m.config.canvas.getContext("2d").lineTo(t+20,15),m.config.canvas.getContext("2d").lineTo(t+20,35),m.config.canvas.getContext("2d").lineTo(t+10,30),m.config.canvas.getContext("2d").closePath(),m.config.canvas.getContext("2d").fill(),d.getInstance().isMuted?(m.config.canvas.getContext("2d").strokeStyle="rgba(255, 0, 0, 0.6)",m.config.canvas.getContext("2d").lineWidth=3,m.config.canvas.getContext("2d").beginPath(),m.config.canvas.getContext("2d").moveTo(t+25,15),m.config.canvas.getContext("2d").lineTo(t+5,35),m.config.canvas.getContext("2d").stroke()):(m.config.canvas.getContext("2d").strokeStyle="rgba(0, 0, 0, 0.4)",m.config.canvas.getContext("2d").lineWidth=2,m.config.canvas.getContext("2d").beginPath(),m.config.canvas.getContext("2d").arc(t+25,25,5,0,2*Math.PI),m.config.canvas.getContext("2d").stroke(),m.config.canvas.getContext("2d").beginPath(),m.config.canvas.getContext("2d").arc(t+25,25,8,0,2*Math.PI),m.config.canvas.getContext("2d").stroke())})();else{if("canvas"==m.config.outputFormat&&(clearInterval(m.gameInterval),"canvas"==m.config.outputFormat&&(m.config.canvas.getContext("2d").fillStyle=p().textColor,m.config.canvas.getContext("2d").font="20px Arial",m.config.canvas.getContext("2d").textAlign="center",m.config.canvas.getContext("2d").fillText("Game Over",m.config.canvas.width/2,m.config.canvas.height/2),d.getInstance().play(g.BEGINNING).then((()=>d.getInstance().stopDefaultSound())))),"svg"==m.config.outputFormat){const t=S(),n=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),e=URL.createObjectURL(n);m.config.svgCallback(e)}m.config.gameOverCallback()}else m.gameHistory.push({pacman:Object.assign({},m.pacman),ghosts:m.ghosts.map((t=>Object.assign({},t))),grid:m.grid.map((t=>[...t.map((t=>t.intensity))]))})})),B=()=>{if(m.pacman.deadRemainingDuration)return;let t=[];if(m.pacman.powerupRemainingDuration)t=m.ghosts.map((t=>({x:t.x,y:t.y,distance:1/0})));else for(let n=0;n<7;n++)for(let a=0;a<e;a++)m.grid[n][a].intensity>0&&t.push({x:n,y:a,distance:1/0});if(0===t.length)return;const n=t.reduce(((t,n)=>{const e=Math.abs(n.x-m.pacman.x)+Math.abs(n.y-m.pacman.y);return e<t.distance?Object.assign(Object.assign({},n),{distance:e}):t}),{x:m.pacman.x,y:m.pacman.y,distance:1/0}),a=n.x-m.pacman.x,o=n.y-m.pacman.y;Math.abs(a)>Math.abs(o)?(m.pacman.x+=Math.sign(a),m.pacman.direction=a>0?"down":"up"):(m.pacman.y+=Math.sign(o),m.pacman.direction=o>0?"right":"left"),m.grid[m.pacman.x][m.pacman.y].intensity>0&&(m.pacman.totalPoints+=m.grid[m.pacman.x][m.pacman.y].commitsCount,m.pacman.points++,m.config.pointsIncreasedCallback(m.pacman.totalPoints),m.grid[m.pacman.x][m.pacman.y].intensity=0,m.pacman.points>=30&&T())},$=()=>{m.ghosts.forEach(((t,n)=>{if(t.scared){t.target||(t.target=E(t.x,t.y));const n=t.target.x-t.x,a=t.target.y-t.y,o=Math.abs(n)>Math.abs(a)?Math.sign(n):0,i=Math.abs(a)>=Math.abs(n)?Math.sign(a):0,c=t.x+o,s=t.y+i;c>=0&&c<7&&s>=0&&s<e&&(t.x=c,t.y=s),t.x===t.target.x&&t.y===t.target.y&&(t.target=E(t.x,t.y))}else{const n=[[-1,0],[1,0],[0,-1],[0,1]],[a,o]=n[Math.floor(Math.random()*n.length)];if(m.pacman.powerupRemainingDuration&&Math.random()<.5)return;const i=t.x+a,c=t.y+o;i>=0&&i<7&&c>=0&&c<e&&(t.x=i,t.y=c)}}))},E=(t,n)=>{const e=t+Math.floor(21*Math.random())-10,a=n+Math.floor(21*Math.random())-10;return{x:Math.max(0,Math.min(e,6)),y:Math.max(0,Math.min(a,51))}},O=()=>{m.pacman.deadRemainingDuration||m.ghosts.forEach(((t,n)=>{t.x===m.pacman.x&&t.y===m.pacman.y&&(m.pacman.powerupRemainingDuration&&t.scared?(R(n),m.pacman.points+=10,"canvas"==m.config.outputFormat&&d.getInstance().play(g.EAT_GHOST)):(m.pacman.points=0,m.pacman.powerupRemainingDuration=0,m.pacman.deadRemainingDuration=10,"canvas"==m.config.outputFormat&&d.getInstance().play(g.GAME_OVER).then((()=>d.getInstance().stopDefaultSound()))))}))},R=t=>{let n,a;do{n=Math.floor(7*Math.random()),a=Math.floor(Math.random()*e)}while(Math.abs(n-m.pacman.x)<=2&&Math.abs(a-m.pacman.y)<=2||0===m.grid[n][a].intensity);m.ghosts[t]={x:n,y:a,name:i[t%i.length],scared:!1,target:void 0}},T=()=>{m.pacman.powerupRemainingDuration=15,m.ghosts.forEach((t=>t.scared=!0))},U=()=>I(void 0,void 0,void 0,(function*(){if("canvas"==m.config.outputFormat&&(m.config.canvas=m.config.canvas,m.config.canvas.width=1144,m.config.canvas.height=174,b()),m.frameCount=0,m.ghosts.forEach((t=>t.scared=!1)),(()=>{m.pacman.points=0,m.pacman.totalPoints=0,m.grid=Array.from({length:7},(()=>Array.from({length:e},(()=>({commitsCount:0,intensity:0}))))),m.monthLabels=Array(e).fill("");let t=1;const n=new Date,a=new Date(n);a.setDate(n.getDate()-n.getDay()),m.contributions.forEach((n=>{const o=new Date(n.date),i=o.getDay(),c=Math.floor((+a-+o)/6048e5);c>=0&&c<e&&i>=0&&i<7&&(m.grid[i][51-c]={commitsCount:n.count,intensity:0},n.count>t&&(t=n.count))}));for(let n=0;n<7;n++)for(let a=0;a<e;a++)m.grid[n][a].commitsCount>0&&(m.grid[n][a].intensity=m.grid[n][a].commitsCount/t);for(let t=0;t<e;t++){const n=51-t,e=new Date(a);e.setDate(e.getDate()-7*n),m.monthLabels[t]=c[e.getMonth()]}})(),"canvas"==m.config.outputFormat&&A(),"canvas"==m.config.outputFormat&&(m.config.enableSounds||d.getInstance().mute(),yield d.getInstance().preloadSounds(),d.getInstance().startDefaultSound(),yield d.getInstance().play(g.BEGINNING)),(()=>{let t=[];for(let n=0;n<7;n++)for(let a=0;a<e;a++)m.grid[n][a].intensity>0&&t.push({x:n,y:a});if(t.length>0){const n=t[Math.floor(Math.random()*t.length)];m.pacman={x:n.x,y:n.y,direction:"right",points:0,totalPoints:0,deadRemainingDuration:0,powerupRemainingDuration:0}}"canvas"==m.config.outputFormat&&v()})(),(()=>{m.ghosts=[],m.scaredGhostsDestinations=[];for(let t=0;t<4;t++){let n,a;do{n=Math.floor(7*Math.random()),a=Math.floor(Math.random()*e)}while(0===m.grid[n][a].intensity);m.ghosts.push({x:n,y:a,name:i[t],scared:!1,target:void 0}),m.scaredGhostsDestinations.push({x:0,y:0})}"canvas"==m.config.outputFormat&&x()})(),r.blinky.img.src=r.blinky.imgDate,r.clyde.img.src=r.clyde.imgDate,r.inky.img.src=r.inky.imgDate,r.pinky.img.src=r.pinky.imgDate,r.scared.img.src=r.scared.imgDate,"svg"==m.config.outputFormat){const t=()=>m.grid.some((t=>t.some((t=>t.intensity>0))));for(;t();)yield k();yield k()}else clearInterval(m.gameInterval),m.gameInterval=setInterval((()=>I(void 0,void 0,void 0,(function*(){return yield k()}))),250)}));const P=t=>{return n=void 0,e=void 0,o=function*(){switch(m.config=Object.assign(Object.assign({},{platform:"github",username:"",canvas:void 0,outputFormat:"svg",svgCallback:t=>{},gameOverCallback:()=>()=>{},gameTheme:"github",gameSpeed:1,enableSounds:!0,pointsIncreasedCallback:t=>{}}),t),t.platform){case"gitlab":m.contributions=yield h(t.username);break;case"github":m.contributions=yield f(t.username)}U()},new((a=void 0)||(a=Promise))((function(t,i){function c(t){try{r(o.next(t))}catch(t){i(t)}}function s(t){try{r(o.throw(t))}catch(t){i(t)}}function r(n){var e;n.done?t(n.value):(e=n.value,e instanceof a?e:new a((function(t){t(e)}))).then(c,s)}r((o=o.apply(n,e||[])).next())}));var n,e,a,o};var F=n.U;export{F as renderContributions};